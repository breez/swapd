syntax = "proto3";
package swap;

service Swapper {
    rpc CreateSwap (CreateSwapRequest) returns (CreateSwapResponse) {}
    rpc PaySwap (PaySwapRequest) returns (PaySwapResponse) {}
    rpc RefundSwap (RefundSwapRequest) returns (RefundSwapResponse) {}
}

message CreateSwapRequest {
    bytes hash = 1;
    bytes refund_pubkey = 2;
}
  
message CreateSwapResponse {
    string address = 1;
    bytes claim_pubkey = 2;
    uint32 lock_height = 3;
}

message PaySwapRequest {
    string payment_request = 1;
}

message PaySwapResponse {}

message RefundSwapRequest {
    string address = 1;
    bytes transaction = 2;
    uint32 input_index = 3;
    bytes pub_nonce = 4;
}

message RefundSwapResponse {
    bytes pub_nonce = 1;
    bytes partial_signature = 2;
}